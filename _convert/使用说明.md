# CSDN文章转换器使用说明

## 功能概述

这个脚本可以将CSDN文章转换为Hexo博客格式，包括以下功能：

1. **自动提取文章标题**：从markdown文件中提取第一个一级标题作为文章标题
2. **生成文章名称**：将标题去掉空格，破折号转为下划线，生成适合文件名的格式
3. **下载图片**：自动下载文章中的所有网络图片到本地`source/img/<article_name>/`目录
4. **替换图片链接**：将原始的网络图片链接替换为本地图片路径
5. **提取元数据**：从CSDN文章页面提取tags和categories信息
6. **生成Front Matter**：自动生成Hexo博客所需的Front Matter头部信息
7. **输出文章**：将转换后的文章保存到`source/_posts/`目录

## 使用方法

### 1. 安装依赖

```bash
pip install requests beautifulsoup4 lxml
```

### 2. 修改配置

编辑`csdn_converter.py`文件中的`main()`函数，修改以下配置：

```python
# 配置
markdown_file = "你的markdown文件路径"
article_url = "CSDN文章链接"
```

### 3. 运行脚本

```bash
python csdn_converter.py
```

## 示例

本次转换的示例：

- **输入文件**：`d:\Programmer\Hexo\_convert\raw\实践\经典机器学习方法(1)——线性回归.md`
- **文章链接**：`https://blog.csdn.net/wxc971231/article/details/122869916`
- **输出文件**：`d:\Programmer\Hexo\source\_posts\线性回归.md`
- **图片目录**：`d:\Programmer\Hexo\source\img\线性回归/`

## 转换结果

✅ **成功提取标题**：线性回归  
✅ **成功生成文章名**：线性回归  
✅ **成功提取tags**：线性回归, 机器学习, pytorch  
✅ **成功下载图片**：5张图片全部下载到本地  
✅ **成功替换链接**：所有图片链接已替换为本地路径  
✅ **成功生成Front Matter**：包含标题、日期、tags信息  
✅ **成功输出文章**：文章已保存到_posts目录  

## 注意事项

1. **网络连接**：脚本需要访问CSDN网站下载图片，请确保网络连接正常
2. **文件路径**：请使用绝对路径，避免路径问题
3. **图片格式**：脚本会自动处理常见的图片格式（png, jpg, gif等）
4. **重复运行**：重复运行脚本会覆盖之前的转换结果
5. **特殊字符**：文章名称会自动处理特殊字符，确保文件名合法

## 自定义配置

你可以根据需要修改`CSDNConverter`类的以下参数：

- `base_dir`：Hexo博客根目录
- `source_dir`：source目录路径
- `posts_dir`：文章输出目录
- `img_dir`：图片存储目录

## 故障排除

如果遇到问题，请检查：

1. 依赖包是否正确安装
2. 文件路径是否正确
3. 网络连接是否正常
4. CSDN文章链接是否有效
5. 目标目录是否有写入权限